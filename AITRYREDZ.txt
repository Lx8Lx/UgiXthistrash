local Library = {}

function MakeWindow(config)
	local ScreenGui = Instance.new("ScreenGui", game.Players.LocalPlayer:WaitForChild("PlayerGui"))
	ScreenGui.Name = "UgiX_Loader"
	ScreenGui.ResetOnSpawn = false

	local MainFrame = Instance.new("Frame", ScreenGui)
	MainFrame.Size = UDim2.new(0, 500, 0, 300)
	MainFrame.Position = UDim2.new(0.5, -250, 0.5, -150)
	MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	MainFrame.Visible = true
	MainFrame.Active = true
	MainFrame.Draggable = true

	local Title = Instance.new("TextLabel", MainFrame)
	Title.Size = UDim2.new(1, 0, 0, 50)
	Title.BackgroundTransparency = 1
	Title.Text = config.Hub.Title .. " - " .. (config.Hub.Animation or "")
	Title.TextColor3 = Color3.new(1,1,1)
	Title.Font = Enum.Font.GothamBold
	Title.TextScaled = true

	local TabFolder = Instance.new("Folder", MainFrame)
	TabFolder.Name = "Tabs"

	Library.MainFrame = MainFrame
	Library.TabFolder = TabFolder
end

function MakeTab(config)
	local Tab = Instance.new("Frame", Library.TabFolder)
	Tab.Name = config.Name
	Tab.Size = UDim2.new(1, 0, 1, -50)
	Tab.Position = UDim2.new(0, 0, 0, 50)
	Tab.BackgroundTransparency = 1

	return Tab
end

function AddButton(parent, config)
	local Button = Instance.new("TextButton", parent)
	Button.Size = UDim2.new(0, 200, 0, 40)
	Button.Position = UDim2.new(0, 10, 0, (#parent:GetChildren()-1)*45)
	Button.BackgroundColor3 = Color3.fromRGB(139, 0, 0)
	Button.TextColor3 = Color3.new(1, 1, 1)
	Button.Font = Enum.Font.GothamBold
	Button.TextScaled = true
	Button.Text = config.Name
	Button.MouseButton1Click:Connect(config.Callback)
end

function AddParagraph(parent, config)
	local Text = Instance.new("TextLabel", parent)
	Text.Size = UDim2.new(1, -20, 0, 60)
	Text.Position = UDim2.new(0, 10, 0, (#parent:GetChildren()-1)*65)
	Text.BackgroundTransparency = 1
	Text.TextColor3 = Color3.new(1,1,1)
	Text.Font = Enum.Font.GothamBold
	Text.TextScaled = true
	Text.Text = config[1]
end

function AddDiscord(parent, config)
	local Button = Instance.new("TextButton", parent)
	Button.Size = UDim2.new(0, 200, 0, 40)
	Button.Position = UDim2.new(0, 10, 0, (#parent:GetChildren()-1)*45)
	Button.BackgroundColor3 = Color3.fromRGB(88, 101, 242)
	Button.TextColor3 = Color3.new(1, 1, 1)
	Button.Font = Enum.Font.GothamBold
	Button.TextScaled = true
	Button.Text = config.DiscordTitle
	Button.MouseButton1Click:Connect(function()
		if setclipboard then
			setclipboard(config.DiscordLink)
		end
	end)
end

function AddImageLabel(parent, config)
	local ImageLabel = Instance.new("ImageLabel", parent)
	ImageLabel.Size = UDim2.new(0, 100, 0, 100)
	ImageLabel.Position = UDim2.new(0, 10, 0, (#parent:GetChildren()-1)*110)
	ImageLabel.BackgroundTransparency = 1
	ImageLabel.Image = config.Image
end

function AddSection(parent, config)
	local Section = Instance.new("TextLabel", parent)
	Section.Size = UDim2.new(1, -20, 0, 30)
	Section.Position = UDim2.new(0, 10, 0, (#parent:GetChildren()-1)*35)
	Section.BackgroundTransparency = 1
	Section.TextColor3 = Color3.new(1, 1, 1)
	Section.Font = Enum.Font.GothamBold
	Section.TextScaled = true
	Section.Text = config[1]
end

function MinimizeButton(config)
	local Button = Instance.new("ImageButton", Library.MainFrame)
	Button.Size = UDim2.new(0, config.Size[1], 0, config.Size[2])
	Button.Position = UDim2.new(1, -config.Size[1] - 10, 0, 10)
	Button.Image = config.Image
	Button.BackgroundColor3 = config.Color
	if config.Corner then
		local UICorner = Instance.new("UICorner", Button)
	end
	if config.Stroke then
		local UIStroke = Instance.new("UIStroke", Button)
		UIStroke.Color = config.StrokeColor
	end
	Button.MouseButton1Click:Connect(function()
		Library.MainFrame.Visible = not Library.MainFrame.Visible
	end)
end

_G.MakeWindow = MakeWindow
_G.MakeTab = MakeTab
_G.AddButton = AddButton
_G.AddParagraph = AddParagraph
_G.AddDiscord = AddDiscord
_G.AddImageLabel = AddImageLabel
_G.AddSection = AddSection
_G.MinimizeButton = MinimizeButton
